function toPublicAddr(e,s,t,d){if(void 0===t&&(pubk=""),void 0===d&&(d=""),"13"!==e&&""!==d||"13"===e&&""===d)throw"pid or no pid with wrong address type";"11"===e&&(t="");var a=e+s+t+d,l=a+cn_fast_hash(a).slice(0,8);return cnBase58.encode(l)}generateIntegratedAddress=function(e){var s=e,t={},d={},a={};if(95!==s.length&&97!==s.length&&51!==s.length&&106!==s.length)throw"Invalid Address Length!";var l=cnBase58.decode(s);if(140===l.length)var n=l.slice(0,4);else n=l.slice(0,2);if("13"===n)throw"Invalid Address (netbyte 13): you must use a standard XMR address (netbyte 12)";if("11"===n)throw"Invalid Address (netbyte 11): please use a standard XMR address (netbyte 12)";if(140===l.length?d.value=l.slice(68,132):d.value=l.slice(66,130),"11"!==n&&"13"!==n&&138!==l.length&&140!==l.length)throw"Invalid Address Length!";var i=cn_fast_hash(l.slice(0,-8));if(140===l.length?t.value=l.slice(4,68):t.value=l.slice(2,66),l.slice(-8),l.slice(0,-8),i.slice(0,8),l.slice(-8)!=i.slice(0,8))throw"checksum invalid!";var r=rand_32().slice(0,16);return a.value=toPublicAddr("13",t.value,d.value,r),{integratedAddress:a.value,paymentId:r}};
